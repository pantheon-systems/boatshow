langcode: en
status: true
dependencies: {  }
id: youthprograms
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: discoverboating_com
label: 'Importing youth programs from DiscoverBoating.com.'
source:
  plugin: csv
  path: ./modules/custom/nmma_migrate/csv/youth_programs.csv
  header_row_count: 1
  # These are the field names from the source file representing the key
  # uniquely identifying each game - they will be stored in the migration
  # map table as columns sourceid1, sourceid2, and sourceid3.
  keys:
    - CompanyID
  # Here we identify the columns of interest in the source file. Each numeric
  # key is the 0-based index of the column. For each column, the key below
  # (e.g., "start_date") is the field name assigned to the data on import, to
  # be used in field mappings below. The value is a user-friendly string for
  # display by the migration UI.
  column_names:
    0:
      CompanyID: CompanyId
    1:
      CompanyName: CompanyName
    2:
      CompanyEmail: CompanyEmail
    3:
      Phone: Phone
    4:
      URL: URL
    5:
      INFO: INFO
    6:
      Address1: Address1
    7:
      Address2: Address2
    8:
      City: City
    9:
      StateCode: StateCode
    10:
      latitude: latitude
    11:
      longitude: longitude
    12:
      programs: programs
    13:
      CompanyTypeID: CompanyTypeID
    14:
      zipcode: zipcode
  constants:
    bool_0: 0
    bool_1: 1
    uid_root: 1
    country_code: US
process:
  sticky: constants/bool_0
  promote: constants/bool_0
  uid: constants/uid_root
  title: CompanyName
  field_ybp_nmma_id: CompanyID
  field_ybp_address/langcode:
    plugin: default_value
    default_value: en
  field_ybp_address/country_code: constants/country_code
  field_ybp_address/address_line1: Address1
  field_ybp_address/address_line2: Address2
  field_ybp_address/locality: City
  field_ybp_address/administrative_area: StateCode
  field_ybp_address/postal_code: zipcode
  field_ybp_geolocation/lat: latitude
  field_ybp_geolocation/lng: longitude
  field_ybp_description: INFO
  field_ybp_phone: Phone
  field_ybp_company_email: CompanyEmail
  field_ybp_company_type: CompanyTypeID
  field_ybp_program_types:
    -
      plugin: explode
      source: programs
      delimiter: ';'
  field_ybp_company_url:
    -
      source: URL
      plugin: callback
      callable: 'nmma_migrate_link_create'
    -
      plugin: field_link
      uri_scheme: 'http://'
  langcode:
    plugin: default_value
    default_value: en
destination:
  plugin: 'entity:node'
  default_bundle: youth_boating_program_provider
