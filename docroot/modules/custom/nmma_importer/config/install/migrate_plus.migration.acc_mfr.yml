langcode: en
status: true
dependencies: {  }
id: acc_mfr
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: discoverboating_importer
label: 'Imports Accessory Manufacturers from DiscoverBoating.com.'
source:
  plugin: url
  data_fetcher_plugin: http
  data_parser_plugin: json
  urls: http://34.237.30.192:22000/middleware/json/accessory_mfrs.json
  ids:
    Id:
      type: integer
  item_selector: /
  fields:
    -
      name: Id
      label: Id
      selector: Id
    -
      name: Name
      label: Name
      selector: Name
    -
      name: website
      label: website
      selector: website
    -
      name: cats
      label: cats
      selector: cats
  constants:
    bool_0: 0
    bool_1: 1
    uid_root: 1
process:
  # Most fields can be mapped directly - we just specify the destination (D8)
  # field and the corresponding field name from above, and the values will be
  # copied in.
  sticky: constants/bool_0
  promote: constants/bool_0
  uid: constants/uid_root
  content_translation_uid: constants/uid_root
  title: Name
  field_nmma_mfr_id: Id
  field_accessory_mfr_website/title: website
  field_accessory_mfr_website/uri:
        -
          source: website
          plugin: callback
          callable: 'nmma_importer_link_create'
  field_accessory_type:
      -
        plugin: explode
        source: cats
        delimiter: ';'
      -
        plugin: migration_lookup
        migration: acc_terms
        no_stub: true
  langcode:
    plugin: default_value
    default_value: 'en'
destination:
  plugin: 'entity:node'
  default_bundle: accessory_mfr
migration_dependencies:
  required:
    - acc_terms
